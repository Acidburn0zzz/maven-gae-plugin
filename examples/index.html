<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 7, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Examples</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1698019-8']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
    </script>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120607" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
	<div id="header">
		<a title="kindleIT" href="http://www.kitsd.com">
	    	<img alt="kindleIT" src="images/logo.png">
	    </a>
	</div>
    <div id="banner">
                    <div id="bannerLeft">
                Maven GAE Parent POM
                </div>
                                            <a href="../index.html" id="bannerRight">
                                                <img src="../images/maven-gae-plugin-logo-small.png" alt="Maven GAE Plugin" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-06-07</span>
                  &nbsp;| <span id="projectVersion">Version: 0.9.4-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="http://code.google.com/appengine" class="externalLink" title="Google App Engine">Google App Engine</a>
            |
                        <a href="http://code.google.com/webtoolkit" class="externalLink" title="Google Web Toolkit">Google Web Toolkit</a>
            |
                        <a href="http://code.google.com/intl/en/eclipse" class="externalLink" title="Google Eclipse Plugin">Google Eclipse Plugin</a>
            |
                        <a href="http://maven.apache.org" class="externalLink" title="Maven">Maven</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Index">Index</a>
            </li>
                  <li class="none">
                          <a href="http://code.google.com/p/maven-gae-plugin" class="externalLink" title="Google Code">Google Code</a>
            </li>
                  <li class="none">
                          <a href="../maven-gae-plugin/plugin-info.html" title="Plugin Goals">Plugin Goals</a>
            </li>
                  <li class="none">
                          <a href="../usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="../faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
            <strong>Examples</strong>
          </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../maven-gae-plugin" title="Plugin">Plugin</a>
            </li>
                  <li class="none">
                          <a href="../gae-runtime" title="GAE Runtime">GAE Runtime</a>
            </li>
                  <li class="none">
                          <a href="../gae-archetype-jsp" title="JSP with JDO Archetype">JSP with JDO Archetype</a>
            </li>
                  <li class="none">
                          <a href="../gae-archetype-gwt" title="GWT with JDO Archetype">GWT with JDO Archetype</a>
            </li>
                  <li class="none">
                          <a href="../gae-archetype-jsf" title="JSF with JDO Archetype">JSF with JDO Archetype</a>
            </li>
                  <li class="none">
                          <a href="../gae-archetype-wicket" title="Wicket Archetype">Wicket Archetype</a>
            </li>
                  <li class="none">
                          <a href="../gae-archetype-objectify-jsp" title="JSP with Objectify Archetype">JSP with Objectify Archetype</a>
            </li>
          </ul>
                       <h5>IDE integration</h5>
                  <ul>
                  <li class="none">
                          <a href="../eclipse/google_plugin.html" title="Eclipse">Eclipse</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                                                                                                                   <a href="http://maven.apache.org" title="Built By Maven" class="poweredBy">
        <img class="poweredBy"  alt="Built By Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                          <a href="http://www.zeroturnaround.com/javarebel/" title="Development Accelerated By JRebel" class="poweredBy">
        <img class="poweredBy"  alt="Development Accelerated By JRebel" src="../images/maven-gae-plugin-logo-small.png"    />
      </a>
                       
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Examples<a name="Examples"></a></h2><div class="section"><h3>Using persistence.<a name="Using_persistence."></a></h3><p>Our test projects work with the following set of dependencies:</p><div class="source"><pre>&lt;project&gt;
    [...]
    &lt;dependencies&gt;
        [...]
        &lt;!--
            jars from GAE's &quot;lib/user&quot; must be added as compile-time
            dependencies, as described here in &quot;Copying JARs&quot; section:
            http://code.google.com/appengine/docs/java/tools/ant.html
        --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.jdo&lt;/groupId&gt;
            &lt;artifactId&gt;jdo2-api&lt;/artifactId&gt;
            &lt;version&gt;2.3-ec&lt;/version&gt;
            &lt;exclusions&gt;
                &lt;!--
                    exclude the legacy javax.transaction:transaction-api
                    and replace it with javax.transaction:jta (it
                    appears to be the same thing)
                --&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;
                    &lt;artifactId&gt;transaction-api&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;
            &lt;artifactId&gt;jta&lt;/artifactId&gt;
            &lt;version&gt;1.1&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;
            &lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;
            &lt;version&gt;1.0.4.1&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;
            &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;
            &lt;version&gt;1.1.5&lt;/version&gt;
            &lt;exclusions&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;
                    &lt;artifactId&gt;transaction-api&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;datanucleus-jpa&lt;/artifactId&gt;
            &lt;version&gt;1.1.5&lt;/version&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;geronimo-jpa_3.0_spec&lt;/artifactId&gt;
            &lt;version&gt;1.1.1&lt;/version&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;
            &lt;version&gt;${gae.version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    [...]
    &lt;properties&gt;
        [...]
        &lt;gae.version&gt;1.3.0&lt;/gae.version&gt;
    &lt;/properties&gt;
&lt;/project&gt;</pre></div><p>Besides, you have to set up DataNucleus' &quot;enhancement&quot; using the <a class="externalLink" href="http://www.datanucleus.org/products/accessplatform_1_0/guides/maven2/index.html">maven-datanucleus-plugin</a> like this:</p><div class="source"><pre>&lt;project&gt;
    [...]
    &lt;plugins&gt;
        &lt;!--
            This plug-in &quot;enhances&quot; your domain model objects (i.e.
            makes them persistent for datanucleus)
        --&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;
            &lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.1.4&lt;/version&gt;
            &lt;configuration&gt;
                &lt;!--
                    Make sure this path contains your persistent
                    classes!
                --&gt;
                &lt;mappingIncludes&gt;**/model/*.class&lt;/mappingIncludes&gt;
                &lt;verbose&gt;true&lt;/verbose&gt;
                &lt;enhancerName&gt;ASM&lt;/enhancerName&gt;
                &lt;api&gt;JDO&lt;/api&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;phase&gt;compile&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;enhance&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;dependencies&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;
                    &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;
                    &lt;version&gt;1.1.5&lt;/version&gt;
                    &lt;exclusions&gt;
                        &lt;exclusion&gt;
                            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;
                            &lt;artifactId&gt;transaction-api&lt;/artifactId&gt;
                        &lt;/exclusion&gt;
                    &lt;/exclusions&gt;
                &lt;/dependency&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;
                    &lt;artifactId&gt;datanucleus-rdbms&lt;/artifactId&gt;
                    &lt;version&gt;1.1.5&lt;/version&gt;
                &lt;/dependency&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;
                    &lt;artifactId&gt;datanucleus-enhancer&lt;/artifactId&gt;
                    &lt;version&gt;1.1.5&lt;/version&gt;
                &lt;/dependency&gt;
            &lt;/dependencies&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
    [...]
&lt;/project&gt;</pre></div><p>For more information on persistence, read the <a class="externalLink" href="http://code.google.com/appengine/docs/java/datastore/">Google App Engine Documentation - Datastore</a>.</p></div><div class="section"><h3>Unit-testing persistence.<a name="Unit-testing_persistence."></a></h3><p>Unit-testing the persistence layer requires some additional dependencies:</p><div class="source"><pre>&lt;project&gt;
    [...]
    &lt;dependencies&gt;
        [...]
         &lt;!--
            GAE libraries for local testing as described here:
            http://code.google.com/appengine/docs/java/howto/unittesting.html
        --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;
            &lt;version&gt;${gae.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;appengine-api-stubs&lt;/artifactId&gt;
            &lt;version&gt;${gae.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;
            &lt;artifactId&gt;appengine-local-runtime&lt;/artifactId&gt;
            &lt;version&gt;${gae.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    [...]
&lt;/project&gt;</pre></div><p>You also need to create mock environment class like <a class="externalLink" href="http://maven-gae-plugin.googlecode.com/svn/example/gwt-persistence-app/src/test/java/com/google/apphosting/api/MockEnvironment.java">this</a>.</p><p>Again, see the <a class="externalLink" href="http://code.google.com/appengine/docs/java/howto/unittesting.html">Google App Engine Documentation - Unit-testing</a> for more details.</p></div><div class="section"><h3>Using GWT.<a name="Using_GWT."></a></h3><p>GWT compilation can be done by using Codehaus' <a class="externalLink" href="http://mojo.codehaus.org/gwt-maven-plugin/index.html">gwt-maven-plugin</a>. Please refer their own documentation, as it is very well written and running GWT on GAE does not require any additional steps.</p></div><div class="section"><h3>Archetypes.<a name="Archetypes."></a></h3><p>There are currently three archetypes we maintain:</p><ul><li>Plain JSP based example:<div class="source"><pre>mvn archetype:generate -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-jsp \
 -DarchetypeVersion=0.7.3 -DgroupId=com.myapp.test -DartifactId=testapp \
 -DarchetypeRepository=http://maven-gae-plugin.googlecode.com/svn/repository</pre></div></li><li>Objectify JSP based example:<div class="source"><pre>mvn archetype:generate -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-objectify-jsp \
 -DarchetypeVersion=0.7.3 -DgroupId=com.myapp.test -DartifactId=testapp \
 -DarchetypeRepository=http://maven-gae-plugin.googlecode.com/svn/repository</pre></div></li><li>Wicket based example<div class="source"><pre>mvn archetype:generate -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-wicket \
 -DarchetypeVersion=0.7.3 -DgroupId=com.myapp.test -DartifactId=testapp \
 -DarchetypeRepository=http://maven-gae-plugin.googlecode.com/svn/repository</pre></div></li><li>JSF based example<div class="source"><pre>mvn archetype:generate -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-jsf \
 -DarchetypeVersion=0.7.3 -DgroupId=com.myapp.test -DartifactId=testapp \
 -DarchetypeRepository=http://maven-gae-plugin.googlecode.com/svn/repository</pre></div></li><li>GWT based example<div class="source"><pre>mvn archetype:generate -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-gwt \
  -DarchetypeVersion=0.7.3 -DgroupId=com.myapp.test -DartifactId=testapp \
  -DarchetypeRepository=http://maven-gae-plugin.googlecode.com/svn/repository</pre></div></li></ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2009-2012
                        <a href="http://www.kitsd.com">KindleIT</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
